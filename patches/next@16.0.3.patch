diff --git a/dist/build/generate-build-id.js b/dist/build/generate-build-id.js
index 846c68601f9534ea416a776c4fa18a2ce6d0326d..bbaec2125df928684ba7ba71acfe16a676b1f204 100644
--- a/dist/build/generate-build-id.js
+++ b/dist/build/generate-build-id.js
@@ -9,7 +9,8 @@ Object.defineProperty(exports, "generateBuildId", {
     }
 });
 async function generateBuildId(generate, fallback) {
-    let buildId = await generate();
+    const generator = typeof generate === 'function' ? generate : async ()=>null;
+    let buildId = await generator();
     // If there's no buildId defined we'll fall back
     if (buildId === null) {
         // We also create a new buildId if it contains the word `ad` to avoid false
diff --git a/dist/build/swc/options.js b/dist/build/swc/options.js
index 651a7aeaefa6ba4b11b12ed9e16c5981bba2d446..dd42fd835ff0eb5bd4c9ffe6333a4d64cd7de1ff 100644
--- a/dist/build/swc/options.js
+++ b/dist/build/swc/options.js
@@ -313,7 +313,7 @@ filename, development, isServer, pagesDir, appDir, isPageFile, isCacheComponents
         };
     }
     // Modularize import optimization for barrel files
-    if (optimizePackageImports) {
+    if (optimizePackageImports && process.env.NEXT_DISABLE_AUTO_MOD_IMPORTS !== '1') {
         baseOptions.autoModularizeImports = {
             packages: optimizePackageImports
         };
diff --git a/dist/build/webpack/loaders/next-swc-loader.js b/dist/build/webpack/loaders/next-swc-loader.js
index 5068c0f0ca1d1adf5a26f009808b2a13e9e2388b..eff5b0bfac514e3a25c6dd2019a57eaa17f708ca 100644
--- a/dist/build/webpack/loaders/next-swc-loader.js
+++ b/dist/build/webpack/loaders/next-swc-loader.js
@@ -156,7 +156,7 @@ async function loaderTransform(source, inputSourceMap) {
         development: this.mode === 'development' || !!((_nextConfig_experimental = nextConfig.experimental) == null ? void 0 : _nextConfig_experimental.allowDevelopmentBuild),
         isCacheComponents: nextConfig.cacheComponents,
         hasReactRefresh,
-        modularizeImports: nextConfig == null ? void 0 : nextConfig.modularizeImports,
+        modularizeImports: process.env.NEXT_DISABLE_AUTO_MOD_IMPORTS === '1' ? undefined : nextConfig == null ? void 0 : nextConfig.modularizeImports,
         optimizePackageImports: nextConfig == null ? void 0 : (_nextConfig_experimental1 = nextConfig.experimental) == null ? void 0 : _nextConfig_experimental1.optimizePackageImports,
         swcPlugins: nextConfig == null ? void 0 : (_nextConfig_experimental2 = nextConfig.experimental) == null ? void 0 : _nextConfig_experimental2.swcPlugins,
         compilerOptions: nextConfig == null ? void 0 : nextConfig.compiler,
@@ -188,6 +188,9 @@ async function loaderTransform(source, inputSourceMap) {
     if (!programmaticOptions.inputSourceMap) {
         delete programmaticOptions.inputSourceMap;
     }
+    if (process.env.NEXT_DISABLE_AUTO_MOD_IMPORTS === '1' && programmaticOptions.autoModularizeImports) {
+        delete programmaticOptions.autoModularizeImports;
+    }
     // auto detect development mode
     if (this.mode && programmaticOptions.jsc && programmaticOptions.jsc.transform && programmaticOptions.jsc.transform.react && !Object.prototype.hasOwnProperty.call(programmaticOptions.jsc.transform.react, 'development')) {
         programmaticOptions.jsc.transform.react.development = this.mode === 'development';
@@ -198,6 +201,14 @@ async function loaderTransform(source, inputSourceMap) {
             output.code,
             output.map ? JSON.parse(output.map) : undefined
         ];
+    }).catch((err)=>{
+        console.error('[next-swc] transform failed for', filename);
+        try {
+            console.error('[next-swc] options:', JSON.stringify(programmaticOptions));
+        } catch (jsonErr) {
+            console.error('[next-swc] failed to stringify options', jsonErr);
+        }
+        throw err;
     });
 }
 function shouldTrackDynamicImports(loaderOptions) {
diff --git a/dist/esm/build/generate-build-id.js b/dist/esm/build/generate-build-id.js
index d0534d191559de354b7f1dace6ed13b576e9fb4b..80b044f4c331b8605276dabeb2f8a9e0472c4497 100644
--- a/dist/esm/build/generate-build-id.js
+++ b/dist/esm/build/generate-build-id.js
@@ -1,5 +1,6 @@
 export async function generateBuildId(generate, fallback) {
-    let buildId = await generate();
+    const generator = typeof generate === 'function' ? generate : async ()=>null;
+    let buildId = await generator();
     // If there's no buildId defined we'll fall back
     if (buildId === null) {
         // We also create a new buildId if it contains the word `ad` to avoid false
diff --git a/dist/esm/build/swc/options.js b/dist/esm/build/swc/options.js
index d1d5fa3e7f0818d75c574b11c93e57f33ad9eb2b..09ef6271f114aaaf1d013cc6e64fc28aa3c5af78 100644
--- a/dist/esm/build/swc/options.js
+++ b/dist/esm/build/swc/options.js
@@ -282,7 +282,7 @@ filename, development, isServer, pagesDir, appDir, isPageFile, isCacheComponents
         };
     }
     // Modularize import optimization for barrel files
-    if (optimizePackageImports) {
+    if (optimizePackageImports && process.env.NEXT_DISABLE_AUTO_MOD_IMPORTS !== '1') {
         baseOptions.autoModularizeImports = {
             packages: optimizePackageImports
         };
diff --git a/dist/esm/build/webpack/loaders/next-swc-loader.js b/dist/esm/build/webpack/loaders/next-swc-loader.js
index 58223df1f7c7bf686cdc50cd4d1f1a84884c697e..61299d415de45a1c59cfdb5e5d798bcbfc681da2 100644
--- a/dist/esm/build/webpack/loaders/next-swc-loader.js
+++ b/dist/esm/build/webpack/loaders/next-swc-loader.js
@@ -89,7 +89,7 @@ async function loaderTransform(source, inputSourceMap) {
         development: this.mode === 'development' || !!((_nextConfig_experimental = nextConfig.experimental) == null ? void 0 : _nextConfig_experimental.allowDevelopmentBuild),
         isCacheComponents: nextConfig.cacheComponents,
         hasReactRefresh,
-        modularizeImports: nextConfig == null ? void 0 : nextConfig.modularizeImports,
+        modularizeImports: process.env.NEXT_DISABLE_AUTO_MOD_IMPORTS === '1' ? undefined : nextConfig == null ? void 0 : nextConfig.modularizeImports,
         optimizePackageImports: nextConfig == null ? void 0 : (_nextConfig_experimental1 = nextConfig.experimental) == null ? void 0 : _nextConfig_experimental1.optimizePackageImports,
         swcPlugins: nextConfig == null ? void 0 : (_nextConfig_experimental2 = nextConfig.experimental) == null ? void 0 : _nextConfig_experimental2.swcPlugins,
         compilerOptions: nextConfig == null ? void 0 : nextConfig.compiler,
@@ -121,6 +121,9 @@ async function loaderTransform(source, inputSourceMap) {
     if (!programmaticOptions.inputSourceMap) {
         delete programmaticOptions.inputSourceMap;
     }
+    if (process.env.NEXT_DISABLE_AUTO_MOD_IMPORTS === '1' && programmaticOptions.autoModularizeImports) {
+        delete programmaticOptions.autoModularizeImports;
+    }
     // auto detect development mode
     if (this.mode && programmaticOptions.jsc && programmaticOptions.jsc.transform && programmaticOptions.jsc.transform.react && !Object.prototype.hasOwnProperty.call(programmaticOptions.jsc.transform.react, 'development')) {
         programmaticOptions.jsc.transform.react.development = this.mode === 'development';
@@ -131,6 +134,14 @@ async function loaderTransform(source, inputSourceMap) {
             output.code,
             output.map ? JSON.parse(output.map) : undefined
         ];
+    }).catch((err)=>{
+        console.error('[next-swc] transform failed for', filename);
+        try {
+            console.error('[next-swc] options:', JSON.stringify(programmaticOptions));
+        } catch (jsonErr) {
+            console.error('[next-swc] failed to stringify options', jsonErr);
+        }
+        throw err;
     });
 }
 function shouldTrackDynamicImports(loaderOptions) {
